async function e(e,t,n,a,o){let l=document.createElement("div");l.id=`movie-${e.id}`,l.classList.add("movie"),l.style.width="430px",l.style.height="305px",l.style.marginBottom="425px",l.style.marginTop="20px",l.style.marginLeft="50px",l.style.transition="transform 0.3s ease-in-out",l.addEventListener("mouseenter",()=>{l.style.transform="scale(0.9)"}),l.addEventListener("mouseleave",()=>{l.style.transform="scale(1)"});let i=document.createElement("img");i.src=a+e.poster_path,i.alt=e.title,i.style.borderRadius="5px";let s=document.createElement("h2");s.textContent=e.title,s.style.color="black",s.style.fontFamily="Roboto",s.style.fontWeight="500",s.style.fontSize="15px";let r=document.createElement("div");r.style.display="flex";let d=document.createElement("p"),c=await fetch(`${t}/movie/${e.id}?api_key=${n}`),p=await c.json(),m=p.genres.map(e=>e.name).join(", ");d.textContent=`${m}     |`,d.style.color="rgba(255, 107, 1, 1)",d.style.fontFamily="Roboto",d.style.fontWeight="500",d.style.fontSize="15px";let u=document.createElement("p"),y=new Date(e.release_date);u.textContent=`${y.getFullYear()}`,u.style.color="rgba(255, 107, 1, 1)",u.style.fontFamily="Roboto",u.style.fontWeight="500",u.style.fontSize="15px",u.style.marginLeft="5px",u.style.marginRight="5px";let g=document.createElement("div");g.style.backgroundColor="rgba(255, 107, 1, 1)",g.style.width="36px",g.style.height="16px",g.style.borderRadius="5px";let h=document.createElement("p");h.textContent=`${e.vote_average}`,h.style.color="white",h.style.fontFamily="Roboto",h.style.fontWeight="500",h.style.fontSize="13px",h.style.textAlign="center",l.appendChild(i),l.appendChild(s),l.appendChild(r),r.appendChild(d),r.appendChild(u),r.appendChild(g),g.appendChild(h);let v=document.getElementById("btn-close-modal"),E=document.querySelector("#modal");l.addEventListener("click",()=>{E.showModal(),document.getElementById("add-movies-modal");let o=e.id,l=`${t}/movie/${o}?api_key=${n}`;fetch(l).then(e=>e.json()).then(e=>{let t=document.querySelector(".contenedor-add-modal-1");t.innerHTML="";let n=document.querySelector(".title-description-movies");n.textContent=e.title;let o=document.createElement("img");o.src=a+e.poster_path,o.alt=e.title,t.appendChild(o);let l=document.querySelector(".container-preInfo-valor");l.innerHTML=`
            <p class="preinfo-valor"> <span class="date-average">${e.vote_average}</span> / ${e.vote_count}</p>
            <p class="preinfo-valor">${e.popularity}</p>
            <p class="preinfo-valor">${e.original_title}</p>
            <p class="preinfo-valor">${e.genres.map(e=>e.name).join(", ")}</p>`;let i=document.querySelector(".description");i.textContent=e.overview})}),v.addEventListener("click",()=>{E.close()}),o.appendChild(l)}document.addEventListener("DOMContentLoaded",e=>{let t="d62e671e72a3270f6005a951e144404c",n="https://api.themoviedb.org/3";// Reemplaza con tu clave de API de TMDb
e.preventDefault();// Elemento donde se mostrarán las películas
let a=document.getElementById("movie-list"),o=document.getElementById("pagination-numbers"),l=1,i=0,s=[];async function r(e){try{let d=await fetch(`${n}/movie/popular?api_key=${t}&page=${e}`),c=await d.json();a.innerHTML="",s=[],c.results.forEach(async e=>{if(!s.some(t=>t.id===e.id)){let o=document.createElement("div");o.classList.add("movie");let l=document.createElement("img");l.src="https://image.tmdb.org/t/p/w500"+e.poster_path,l.alt=e.title;let i=document.createElement("h2");i.textContent=e.title;let r=document.createElement("p"),d=await fetch(`${n}/movie/${e.id}?api_key=${t}`),c=await d.json(),p=c.genres.map(e=>e.name).join(", ");r.textContent=`${p}`,o.appendChild(l),o.appendChild(i),o.appendChild(r),a.appendChild(o),s.push(e)}}),i=c.total_pages,function(){o.innerHTML="";let e=Math.min(i,5);for(let t=1;t<=e;t++){let e=document.createElement("button");e.classList.add("pagination-number"),e.textContent=t,t===l&&e.classList.add("active"),e.addEventListener("click",()=>{r(l=t)}),o.appendChild(e)}if(i>5){let e=document.createElement("span");e.textContent="...",o.appendChild(e)}}()}catch(e){console.error("Error al obtener pel\xedculas populares:",e)}}r(1);let d=document.getElementById("prev-button"),c=document.getElementById("next-button");d.addEventListener("click",()=>{l>1&&r(--l)}),c.addEventListener("click",()=>{l<i&&r(++l)})}),document.addEventListener("DOMContentLoaded",()=>{let t="d62e671e72a3270f6005a951e144404c",n="https://api.themoviedb.org/3",a="https://image.tmdb.org/t/p/w500",o=document.getElementById("movie-list"),l=document.getElementById("pagination-numbers"),i=document.getElementById("prev-button"),s=document.getElementById("next-button"),r=1,d=0,c=0,p=JSON.parse(localStorage.getItem("selectedMovies"))||[];async function m(u){try{let y=await fetch(`${n}/movie/popular?api_key=${t}&page=${u}`),g=await y.json();o.innerHTML="",1===u&&(d=g.total_results,c=Math.ceil(d/9));let h=(u-1)*9;g.results.slice(h,h+9).forEach(async l=>{await e(l,n,t,a,o);let i=document.getElementById("addToWatched"),s=document.getElementById("addToQueue");i.addEventListener("click",async()=>{try{let e=await fetch(`${n}/movie/${l.id}?api_key=${t}`),o=await e.json(),i=o.genres.map(e=>e.name).join(", "),s={title:l.title,poster_path:a+l.poster_path,genres:i,rating:l.vote_average||"No disponible"};p.push(s),console.log("Pel\xedcula seleccionada:",s),console.log("Pel\xedculas seleccionadas:",p),localStorage.setItem("selectedMovies",JSON.stringify(p))}catch(e){console.log("Error al obtener g\xe9neros:",e)}}),s.addEventListener("click",async()=>{try{let e=await fetch(`${n}/movie/${l.id}?api_key=${t}`),o=await e.json(),i=o.genres.map(e=>e.name).join(", "),s={title:l.title,poster_path:a+l.poster_path,genres:i,rating:l.vote_average},r=JSON.parse(localStorage.getItem("selectedQueueMovies"))||[];r.push(s),console.log("Pel\xedcula seleccionada:",s),console.log("Pel\xedculas seleccionadas:",r),localStorage.setItem("selectedQueueMovies",JSON.stringify(r))}catch(e){console.log("Error al obtener g\xe9neros:",e)}})}),// Actualizar la paginación
l.innerHTML="";let v=Math.min(c,5);for(let e=1;e<=v;e++){let t=document.createElement("button");t.classList.add("pagination-number"),t.textContent=e,e===r&&t.classList.add("active"),t.addEventListener("click",()=>{r=e,m(r)}),l.appendChild(t)}if(c>20){let e=document.createElement("span");e.textContent="...",l.appendChild(e)}i.disabled=1===r,s.disabled=r===c}catch(e){console.error("Error al obtener pel\xedculas populares:",e)}}JSON.parse(localStorage.getItem("selectedQueueMovies")),i.addEventListener("click",()=>{r>1&&m(--r)}),s.addEventListener("click",()=>{r<c&&m(++r)}),m(r)});const t=document.querySelector(".my-library-btn"),n=document.querySelector(".search-container");t.addEventListener("click",e=>{e.preventDefault(),n.innerHTML="";let t=document.createElement("button"),a=document.createElement("button");t.textContent="WATCHED",a.textContent="QUEUE",t.classList.add("library-container__button--active"),a.classList.add("library-container__button--transparent"),n.classList.add("library-container__button"),n.append(t,a)});// BUSQUEDA DE PELÍCULAS POR NOMBRE
const a=document.getElementById("search-input"),o=document.getElementById("search-button");async function l(t){let n="d62e671e72a3270f6005a951e144404c",a="https://api.themoviedb.org/3",o=document.getElementById("movie-list");try{let l=await fetch(`${a}/search/movie?api_key=${n}&query=${t}&include_adult=false&language=en-US`),i=await l.json();o.innerHTML="",i.results.forEach(async t=>{await e(t,a,n,"https://image.tmdb.org/t/p/w500",o)})}catch(e){console.error("Error al buscar pel\xedculas por t\xedtulo:",e)}}//# sourceMappingURL=index.fbc7e83d.js.map
o.addEventListener("click",e=>{if(""===a.value)e.preventDefault();else{let e=a.value;l(e)}});
//# sourceMappingURL=index.fbc7e83d.js.map
